<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KV Est√©tica - Inicio</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
    <!-- Header -->
    <div th:replace="~{fragments/header :: header}"></div>

    <main class="main-content">
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1>Bienvenida a tu belleza interior</h1>
                    <p>Descubre los mejores tratamientos y productos de est√©tica para realzar tu belleza natural</p>
                    <div class="hero-buttons">
                        <a th:href="@{/tratamientos}" class="btn btn-primary">Ver Tratamientos</a>
                        <a th:href="@{/productos}" class="btn btn-outline">Ver Productos</a>
                    </div>
                </div>
            </div>
        </section>

        <div class="container">
            <!-- Mensajes flash -->
            <div th:if="${mensaje}" class="flash-message flash-success" th:text="${mensaje}"></div>
            <div th:if="${error}" class="flash-message flash-error" th:text="${error}"></div>

            <!-- Productos Destacados -->
            <section class="section">
                <h2 class="section-title">Productos Destacados</h2>
                <div class="grid">
                    <div th:each="producto : ${productosDestacados}" class="card">
                        <img th:src="${producto.imagenUrl}" th:alt="${producto.nombre}" class="card-img">
                        <div class="card-body">
                            <h3 class="card-title" th:text="${producto.nombre}"></h3>
                            <p class="card-text" th:text="${producto.descripcion}"></p>
                            <p class="card-price" th:text="'$' + ${#numbers.formatDecimal(producto.precio, 1, 2)}"></p>
                            <div class="card-actions">
                                <a th:href="@{/productos/{id}(id=${producto.id})}" class="btn btn-outline">Ver Detalle</a>
                                <form th:action="@{/carrito/agregar/producto/{id}(id=${producto.id})}" method="post" style="display: inline;">
                                    <button type="submit" class="btn btn-primary">Agregar al Carrito</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center" style="margin-top: 2rem;">
                    <a th:href="@{/productos}" class="btn btn-secondary">Ver Todos los Productos</a>
                </div>
            </section>

            <!-- Tratamientos Populares -->
            <section class="section">
                <h2 class="section-title">Tratamientos Populares</h2>
                <div class="grid">
                    <div th:each="tratamiento : ${tratamientosPopulares}" class="card">
                        <div class="card-body">
                            <h3 class="card-title" th:text="${tratamiento.nombre}"></h3>
                            <p class="card-text" th:text="${tratamiento.descripcion}"></p>
                            <p class="card-price" th:text="'$' + ${#numbers.formatDecimal(tratamiento.precio, 1, 2)}"></p>
                            <p class="card-duration" th:text="'Duraci√≥n: ' + ${tratamiento.duracionMinutos} + ' min'"></p>
                            <div class="card-actions">
                                <a th:href="@{/tratamientos/{id}(id=${tratamiento.id})}" class="btn btn-outline">Ver Detalle</a>
                                <a th:href="@{/citas/nueva}" class="btn btn-primary">Agendar Cita</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center" style="margin-top: 2rem;">
                    <a th:href="@{/tratamientos}" class="btn btn-secondary">Ver Todos los Tratamientos</a>
                </div>
            </section>

            <!-- Informaci√≥n adicional -->
            <section class="section features">
                <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                    <div class="feature-card">
                        <h3>üíÜ‚Äç‚ôÄÔ∏è Profesionales Certificados</h3>
                        <p>Nuestro equipo est√° formado por especialistas con a√±os de experiencia en est√©tica y belleza.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üåø Productos Naturales</h3>
                        <p>Utilizamos productos de alta calidad con ingredientes naturales y respetuosos con tu piel.</p>
                    </div>
                    <div class="feature-card">
                        <h3>‚è±Ô∏è Citas Flexibles</h3>
                        <p>Ofrecemos horarios flexibles para adaptarnos a tu rutina y necesidades.</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>